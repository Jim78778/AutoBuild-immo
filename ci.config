#
# ImmortalWrt CI stable config (IPQ807x / PCIe MHI / QModem 2.8.0)
#

CONFIG_MODULES=y
CONFIG_HAVE_DOT_CONFIG=y
CONFIG_HOST_OS_LINUX=y

#
# Target
#
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq807x=y
CONFIG_TARGET_qualcommax_ipq807x_DEVICE_cpe_s10-sky=y
CONFIG_TARGET_PROFILE="DEVICE_cpe_s10-sky"
# CONFIG_TARGET_MULTI_PROFILE is not set

#
# RootFS (CI safe)
#
CONFIG_TARGET_ROOTFS_SQUASHFS=y
# CONFIG_TARGET_ROOTFS_INITRAMFS is not set

#
# Kill Rust / Dev / Experimental
#
# CONFIG_DEVEL is not set
# CONFIG_EXPERIMENTAL is not set
# CONFIG_COLLECT_KERNEL_DEBUG is not set

#
# Kernel (keep minimal, no debug)
#
# CONFIG_KERNEL_DEBUG_KERNEL is not set
# CONFIG_KERNEL_DEBUG_INFO is not set
# CONFIG_KERNEL_DEBUG_INFO_REDUCED is not set
# CONFIG_KERNEL_DYNAMIC_DEBUG is not set
CONFIG_KERNEL_PRINTK=y
CONFIG_KERNEL_KALLSYMS=y

#
# PCIe / MHI / WWAN
#
CONFIG_PCI=y
CONFIG_PCIEPORTBUS=y
CONFIG_PCIE_QCOM=y

CONFIG_MHI_BUS=y
CONFIG_MHI_BUS_PCI_GENERIC=y
CONFIG_MHI_NET=y

CONFIG_WWAN=y
CONFIG_WWAN_CORE=y

CONFIG_QRTR=y
CONFIG_QRTR_MHI=y
CONFIG_QCOM_QMI_HELPERS=y

#
# kmods
#
CONFIG_PACKAGE_kmod-mhi-bus=y
CONFIG_PACKAGE_kmod-mhi-pci-generic=y
CONFIG_PACKAGE_kmod-mhi-net=y
CONFIG_PACKAGE_kmod-wwan=y
CONFIG_PACKAGE_kmod-qmi_wwan=y
CONFIG_PACKAGE_kmod-usb-wdm=y

#
# QModem 2.8.0
#
CONFIG_PACKAGE_qmodem=y
CONFIG_PACKAGE_luci-app-qmodem=y

#
# Network basic
#
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_iptables-nft=y
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_kmod-nft-core=y

#
# Explicitly forbid Rust users
#
# CONFIG_PACKAGE_modemmanager is not set
# CONFIG_PACKAGE_rust is not set
# CONFIG_PACKAGE_cargo is not set
# CONFIG_PACKAGE_rustfmt is not set

# ===== Target =====
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq807x=y
CONFIG_TARGET_qualcommax_ipq807x_DEVICE_swaiot_cpe_s10=y

CONFIG_ARCH_64BIT=y
CONFIG_aarch64=y

# ===== Image =====
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_INCLUDE_KERNEL=y
CONFIG_TARGET_ROOTFS_INCLUDE_DTB=y
CONFIG_TARGET_IMAGES_GZIP=y
# 强制关闭 initramfs
CONFIG_TARGET_ROOTFS_INITRAMFS=n
CONFIG_TARGET_INITRAMFS=n
CONFIG_TARGET_INITRAMFS_FORCE=n
# ===== 基础系统包 =====
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dnsmasq=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_firewall=y
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE_iptables=y
CONFIG_PACKAGE_iptables-mod-conntrack-extra=y
CONFIG_PACKAGE_iptables-mod-nat=y
CONFIG_PACKAGE_kmod-ipt-offload=y
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_logd=y
CONFIG_PACKAGE_mtd=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_procd=y
CONFIG_PACKAGE_swconfig=y
CONFIG_PACKAGE_uboot-envtools=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_uclient-fetch=y
CONFIG_PACKAGE_urandom-seed=y
CONFIG_PACKAGE_urngd=y

# ===== Kernel 6.12.63 特定配置 =====
CONFIG_KERNEL_6_12_63=y
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_CGROUP_NET_PRIO=y
CONFIG_KERNEL_CGROUP_PERF=y
CONFIG_KERNEL_CGROUP_SCHED=y
CONFIG_KERNEL_CPUSETS=y
CONFIG_KERNEL_NAMESPACES=y
CONFIG_KERNEL_NET_NS=y
CONFIG_KERNEL_PID_NS=y
CONFIG_KERNEL_USER_NS=y
CONFIG_KERNEL_UTS_NS=y

# ===== Kernel / PCIe / MHI =====
CONFIG_PACKAGE_kmod-pci-core=y
CONFIG_PACKAGE_kmod-pci-msi=y
CONFIG_PACKAGE_kmod-mhi-bus=y
CONFIG_PACKAGE_kmod-mhi-wwan-ctrl=y
CONFIG_PACKAGE_kmod-mhi-wwan-mbim=y

# ===== Wi-Fi =====
CONFIG_PACKAGE_ipq-wifi-cpe_s10_sky=y
CONFIG_PACKAGE_kmod-ath11k=y
CONFIG_PACKAGE_kmod-cfg80211=y
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_ath11k-firmware-qca8074=y
CONFIG_PACKAGE_wpad-basic-wolfssl=y

# ===== NSS驱动 =====
CONFIG_PACKAGE_qca-nss-drv=y
CONFIG_PACKAGE_qca-nss-dp=y
# CONFIG_PACKAGE_qca-nss-ecm is not set

# ===== QModem（简化版） =====
CONFIG_PACKAGE_qmodem=y
# CONFIG_PACKAGE_luci-app-qmodem is not set

# ===== 基础网络 =====
CONFIG_PACKAGE_ip-full=y
# CONFIG_PACKAGE_iptables-nft is not set
CONFIG_PACKAGE_firewall4=y
CONFIG_FIREWALL4_BACKEND=legacy

# ===== AdGuardHome 准备 =====
# 这些包会在workflow中手动安装
# CONFIG_PACKAGE_luci-app-adguardhome=y
# CONFIG_PACKAGE_adguardhome=y

# ===== LuCI =====
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-ssl-openssl=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-ipkg=y

# ===== ttyd =====
CONFIG_PACKAGE_ttyd=y
CONFIG_PACKAGE_luci-app-ttyd=y

# ===== LuCI Themes =====
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-theme-argon-mc=y
CONFIG_PACKAGE_luci-theme-opentopd=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

# ===== 禁用冲突组件 =====
# CONFIG_PACKAGE_modemmanager is not set
# CONFIG_PACKAGE_luci-app-modemmanager is not set

# ===== USB =====
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y

# ===== Debug =====
CONFIG_KERNEL_DEBUG_FS=y
CONFIG_KERNEL_DEVTMPFS=y
CONFIG_KERNEL_DEVTMPFS_MOUNT=y

# ===== Build Optimization =====
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_BUILD_LOG=y

# ===== Optional Tools =====
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_vim=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_openssh-client=y
CONFIG_PACKAGE_openssh-server=y

# ===== 网络工具 =====
CONFIG_PACKAGE_ethtool=y
CONFIG_PACKAGE_iputils-ping=y
CONFIG_PACKAGE_tcpdump=y

CONFIG_OPENSSL_KTLS=y

# ===== 修复QModem可能需要的 =====
CONFIG_PACKAGE_kmod-usb-net=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ether=y
CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=y
CONFIG_PACKAGE_kmod-usb-serial=y
CONFIG_PACKAGE_kmod-usb-serial-option=y
CONFIG_PACKAGE_kmod-usb-serial-wwan=y

#####################################################################
# Target platform
#####################################################################
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq807x=y

#####################################################################
# Target device（按需修改）
#####################################################################
# 示例：Swaiot CPE-S10
CONFIG_TARGET_qualcommax_ipq807x_DEVICE_cpe_s10=y

#####################################################################
# NSS Offloading（核心）
#####################################################################
CONFIG_ATH11K_NSS_SUPPORT=y
CONFIG_ATH11K_NSS_MESH_SUPPORT=y
CONFIG_PACKAGE_MAC80211_NSS_SUPPORT=y

CONFIG_PACKAGE_kmod-qca-nss-drv=y
CONFIG_PACKAGE_kmod-qca-nss-dp=y
CONFIG_PACKAGE_kmod-qca-mcs=y
CONFIG_PACKAGE_kmod-qca-nss-drv-vlan-mgr=y

#####################################################################
# ⚠️ ECM 显式关闭（避免 rmnet undefined symbol）
#####################################################################
# CONFIG_PACKAGE_kmod-qca-nss-ecm is not set
CONFIG_ECM_INTERFACE_RAWIP_ENABLE=n
CONFIG_ECM_INTERFACE_RMNET_ENABLE=n
CONFIG_ECM_INTERFACE_PPPOE_ENABLE=n
CONFIG_ECM_INTERFACE_L2TPV2_ENABLE=n
CONFIG_ECM_INTERFACE_PPTP_ENABLE=n

#####################################################################
# PCIe 支持
#####################################################################
CONFIG_PCI=y
CONFIG_PCIE_QCOM=y
CONFIG_PACKAGE_kmod-pci-msi=y
CONFIG_PACKAGE_kmod-pci=y

#####################################################################
# MHI 总线支持（5G 模块必需）
#####################################################################
CONFIG_PACKAGE_kmod-mhi-bus=y
CONFIG_PACKAGE_kmod-mhi-pci-generic=y
CONFIG_PACKAGE_kmod-mhi-wwan-ctrl=y
CONFIG_PACKAGE_kmod-mhi-wwan-mbim=y

#####################################################################
# WWAN / USB / RAWIP
#####################################################################
CONFIG_PACKAGE_kmod-wwan=y
CONFIG_PACKAGE_kmod-usb-net=y
CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=y
CONFIG_PACKAGE_kmod-usb-net-mbim=y
CONFIG_PACKAGE_kmod-usb-serial=y
CONFIG_PACKAGE_kmod-usb-serial-option=y

#####################################################################
# QModem
#####################################################################
CONFIG_PACKAGE_qmodem=y

#####################################################################
# Network base
#####################################################################
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_dnsmasq=y
CONFIG_PACKAGE_firewall4=y

#####################################################################
# SSL / Wireless（与原 config 一致）
#####################################################################
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_libustream-mbedtls=n
CONFIG_PACKAGE_libopenssl=y
CONFIG_OPENSSL_OPTIMIZE_SPEED=y

CONFIG_PACKAGE_wpad-mesh-openssl=y
CONFIG_PACKAGE_wpad-basic-mbedtls=n

#####################################################################
# LuCI
#####################################################################
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-ssl-openssl=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y

#####################################################################
# Compiler / Build
#####################################################################
CONFIG_BUILD_PATENTED=y
CONFIG_CCACHE=y
CONFIG_DEVEL=y
CONFIG_EXPERIMENTAL=y
CONFIG_TOOLCHAINOPTS=y
CONFIG_TARGET_OPTIONS=y
CONFIG_TARGET_OPTIMIZATION="-O2 -pipe -mcpu=cortex-a53+crc+crypto"
CONFIG_USE_GC_SECTIONS=y

#####################################################################
# 禁用 Rust（硬保证）
#####################################################################
# CONFIG_RUST is not set
# CONFIG_RUST_TOOLCHAIN is not set
# CONFIG_PACKAGE_rust is not set
# CONFIG_PACKAGE_cargo is not set

#####################################################################
# 禁用 Shadowsocks / Rust 相关
#####################################################################
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Rust_Client is not set
# CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Rust_Server is not set
# CONFIG_PACKAGE_shadowsocks-rust-sslocal is not set
# CONFIG_PACKAGE_shadowsocks-rust-ssserver is not set


